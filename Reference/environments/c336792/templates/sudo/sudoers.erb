# sudoers file.

# Defaults specification
Defaults        shell_noargs
Defaults        authenticate
Defaults        timestamp_timeout=0
Defaults        log_host

# Cmnd alias specification

Cmnd_Alias NETBACKUP_CMNDS = \
        /usr/openv/bin/admincmd/duplicatetrace, \
        /usr/openv/bin/admincmd/importtrace, \
        /usr/openv/bin/admincmd/verifytrace, \
        /usr/openv/bin/vopie_util, \
        /usr/openv/db/bin/admincmd/restoretrace, \
        /usr/openv/db/bin/create_nbdb, \
        /usr/openv/db/bin/nbdb_admin, \
        /usr/openv/db/bin/nbdb_backup, \
        /usr/openv/db/bin/nbdb_move, \
        /usr/openv/db/bin/nbdbms_start_server, \
        /usr/openv/db/bin/nbdb_ping, \
        /usr/openv/db/bin/nbdb_restore, \
        /usr/openv/db/bin/nbdb_unload, \
        /usr/openv/netbackup/bin/add_media_server_on_clients, \
        /usr/openv/netbackup/bin/admincmd/backupdbtrace, \
        /usr/openv/netbackup/bin/admincmd/backuptrace, \
        /usr/openv/netbackup/bin/admincmd/bpauthorize, \
        /usr/openv/netbackup/bin/admincmd/bpauthsync, \
        /usr/openv/netbackup/bin/admincmd/bpbackupdb, \
        /usr/openv/netbackup/bin/admincmd/bpcatarc, \
        /usr/openv/netbackup/bin/admincmd/bpcatlist, \
        /usr/openv/netbackup/bin/admincmd/bpcatres, \
        /usr/openv/netbackup/bin/admincmd/bpcatrm, \
        /usr/openv/netbackup/bin/admincmd/bpchangeprimary, \
        /usr/openv/netbackup/bin/admincmd/bpclient, \
        /usr/openv/netbackup/bin/admincmd/bpconfig, \
        /usr/openv/netbackup/bin/admincmd/bpdbjobs, \
        /usr/openv/netbackup/bin/admincmd/bpduplicate, \
        /usr/openv/netbackup/bin/admincmd/bperror, \
        /usr/openv/netbackup/bin/admincmd/bpexpdate, \
        /usr/openv/netbackup/bin/admincmd/bpgetconfig, \
        /usr/openv/netbackup/bin/admincmd/bpgetdebuglog, \
        /usr/openv/netbackup/bin/admincmd/bpimage, \
        /usr/openv/netbackup/bin/admincmd/bpimagelist, \
        /usr/openv/netbackup/bin/admincmd/bpimmedia, \
        /usr/openv/netbackup/bin/admincmd/bpimport, \
        /usr/openv/netbackup/bin/admincmd/bpkeyutil, \
        /usr/openv/netbackup/bin/admincmd/bplabel, \
        /usr/openv/netbackup/bin/admincmd/bpmedia, \
        /usr/openv/netbackup/bin/admincmd/bpmedialist, \
        /usr/openv/netbackup/bin/admincmd/bpminlicense, \
        /usr/openv/netbackup/bin/admincmd/bpmoverinfo, \
        /usr/openv/netbackup/bin/admincmd/bpnbaz, \
        /usr/openv/netbackup/bin/admincmd/bppficorr, \
        /usr/openv/netbackup/bin/admincmd/bpplclients, \
        /usr/openv/netbackup/bin/admincmd/bppldelete, \
        /usr/openv/netbackup/bin/admincmd/bpplinclude, \
        /usr/openv/netbackup/bin/admincmd/bpplinfo, \
        /usr/openv/netbackup/bin/admincmd/bppllist, \
        /usr/openv/netbackup/bin/admincmd/bpplsched, \
        /usr/openv/netbackup/bin/admincmd/bpplschedrep, \
        /usr/openv/netbackup/bin/admincmd/bppolicynew, \
        /usr/openv/netbackup/bin/admincmd/bprecover, \
        /usr/openv/netbackup/bin/admincmd/bpSALinfo, \
        /usr/openv/netbackup/bin/admincmd/bpschedule, \
        /usr/openv/netbackup/bin/admincmd/bpschedulerep, \
        /usr/openv/netbackup/bin/admincmd/bpsetconfig, \
        /usr/openv/netbackup/bin/admincmd/bpstrep, \
        /usr/openv/netbackup/bin/admincmd/bpstsinfo, \
        /usr/openv/netbackup/bin/admincmd/bpstuadd, \
        /usr/openv/netbackup/bin/admincmd/bpstudel, \
        /usr/openv/netbackup/bin/admincmd/bpstulist, \
        /usr/openv/netbackup/bin/admincmd/bpsturep, \
        /usr/openv/netbackup/bin/admincmd/bptestbpcd, \
        /usr/openv/netbackup/bin/admincmd/bpverify, \
        /usr/openv/netbackup/bin/admincmd/nbemmcmd, \
        /usr/openv/NetBackup/bin/admincmd/nbemmcmd-changesetti, \
        /usr/openv/netbackup/bin/admincmd/nbpemreq, \
        /usr/openv/netbackup/bin/admincmd/restoretrace, \
        /usr/openv/netbackup/bin/bmrc, \
        /usr/openv/netbackup/bin/bmrconfig, \
        /usr/openv/netbackup/bin/bmrepadm, \
        /usr/openv/netbackup/bin/bmrprep, \
        /usr/openv/netbackup/bin/bmrs, \
        /usr/openv/netbackup/bin/bmrsrtadm, \
        /usr/openv/netbackup/bin/bp, \
        /usr/openv/netbackup/bin/bpadm, \
        /usr/openv/netbackup/bin/bparchive, \
        /usr/openv/netbackup/bin/bpbackup, \
        /usr/openv/netbackup/bin/bpcd, \
        /usr/openv/netbackup/bin/bpclntcmd, \
        /usr/openv/netbackup/bin/bpcompatd, \
        /usr/openv/netbackup/bin/bpdbm, \
        /usr/openv/netbackup/bin/bpdgclone, \
        /usr/openv/netbackup/bin/bpfis, \
        /usr/openv/netbackup/bin/bpinst, \
        /usr/openv/netbackup/bin/bpkeyfile, \
        /usr/openv/netbackup/bin/bpkeyutil, \
        /usr/openv/netbackup/bin/bplist, \
        /usr/openv/netbackup/bin/bpnbat, \
        /usr/openv/netbackup/bin/bpps, \
        /usr/openv/netbackup/bin/bprd, \
        /usr/openv/netbackup/bin/bprestore, \
        /usr/openv/netbackup/bin/bptpcinfo, \
        /usr/openv/netbackup/bin/cat_convert, \
        /usr/openv/netbackup/bin/initbpdbm, \
        /usr/openv/netbackup/bin/initbprd, \
        /usr/openv/netbackup/bin/jbpSA, \
        /usr/openv/netbackup/bin/jnbSA, \
        /usr/openv/netbackup/bin/nbdbms_start_stop, \
        /usr/openv/netbackup/bin/nbemm, \
        /usr/openv/netbackup/bin/nbjm, \
        /usr/openv/netbackup/bin/nbnos, \
        /usr/openv/netbackup/bin/nbpem, \
        /usr/openv/netbackup/bin/nbpushdata, \
        /usr/openv/netbackup/bin/nbrb, \
        /usr/openv/netbackup/bin/tar, \
        /usr/openv/netbackup/bin/vltadm, \
        /usr/openv/netbackup/bin/vltcontainers, \
        /usr/openv/netbackup/bin/vlteject, \
        /usr/openv/netbackup/bin/vltinject, \
        /usr/openv/netbackup/bin/vltoffsitemedia, \
        /usr/openv/netbackup/bin/vltopmenu, \
        /usr/openv/netbackup/bin/vltrun, \
        /usr/openv/netbackup/bin/vopied, \
        /usr/openv/netbackup/bin/vxlogcfg, \
        /usr/openv/netbackup/bin/vxlogmgr, \
        /usr/openv/netbackup/bin/vxlogview, \
        /usr/openv/volmgr/bin/acsd, \
        /usr/openv/volmgr/bin/ltid, \
        /usr/openv/volmgr/bin/odld, \
        /usr/openv/volmgr/bin/stopltid, \
        /usr/openv/volmgr/bin/tl4d, \
        /usr/openv/volmgr/bin/tl8cd, \
        /usr/openv/volmgr/bin/tl8d, \
        /usr/openv/volmgr/bin/tldcd, \
        /usr/openv/volmgr/bin/tldd, \
        /usr/openv/volmgr/bin/tlhcd, \
        /usr/openv/volmgr/bin/tlhd, \
        /usr/openv/volmgr/bin/tlmd, \
        /usr/openv/volmgr/bin/tpautoconf, \
        /usr/openv/volmgr/bin/tpclean, \
        /usr/openv/volmgr/bin/tpconfig, \
        /usr/openv/volmgr/bin/tpformat, \
        /usr/openv/volmgr/bin/tpreq, \
        /usr/openv/volmgr/bin/tpunmount, \
        /usr/openv/volmgr/bin/tshd, \
        /usr/openv/volmgr/bin/vmadd, \
        /usr/openv/volmgr/bin/vmadm, \
        /usr/openv/volmgr/bin/vmchange, \
        /usr/openv/volmgr/bin/vmcheckxxx, \
        /usr/openv/volmgr/bin/vmd, \
        /usr/openv/volmgr/bin/vmdelete, \
        /usr/openv/volmgr/bin/vmoprcmd, \
        /usr/openv/volmgr/bin/vmphyinv, \
        /usr/openv/volmgr/bin/vmpool, \
        /usr/openv/volmgr/bin/vmps, \
        /usr/openv/volmgr/bin/vmquery, \
        /usr/openv/volmgr/bin/vmrule, \
        /usr/openv/volmgr/bin/vmupdate, \
        sudoedit /usr/openv/netbackup/bp.conf, \
        sudoedit /usr/openv/netbackup/exclude_list, \
        sudoedit /usr/openv/netbackup/include_list, \
        sudoedit /usr/openv/volmgr/vm.conf 

# User alias
User_Alias NETBACKUPADMINS = %AG_NETBACKUP_ADMIN
User_Alias NTTADMINS = %AG_UNIX_ADMIN

# User privilege specification
root            ALL=(ALL) ALL
NTTADMINS       ALL=(ALL) ALL

# For netbackup as requested by Tristram Alexander
Defaults:NETBACKUPADMINS        timestamp_timeout=5
NETBACKUPADMINS ALL=(root) NETBACKUP_CMNDS

# Grant everyone sudo to traceroute
ALL ALL=(root) NOPASSWD: /usr/sbin/traceroute -I
ALL ALL=(root) NOPASSWD: /usr/bin/lft

# Filer management commands
ALL ALL=(root) sudoedit /filers/*/vol/vol0/etc/*
ALL ALL=(root) /bin/cp /home/*/* /filers/*/vol/vol0/etc
ALL ALL=(root) /bin/cp /home/*/* /filers/*/vol/vol0/etc/*
# ALL ALL=(root) /bin/cp /filers/*/vol/vol0/* /home/*/*
ALL ALL=(root) /usr/local/bin/filercopy.sh /filers/*/vol/vol0/* /home/*/*
ALL ALL=(root) /usr/bin/perl /usr/local/ntte/scripts/ha-config-check.cgi *

# Foreman puppet run webgui using 'mco puppetd'
Defaults:foreman !requiretty
foreman ALL=NOPASSWD: /usr/bin/mco puppetd*
