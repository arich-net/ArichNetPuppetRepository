<?xml version='1.0'?>
<project name='puppetdocs' basedir='.' default='generate-docs'>

	<property file='build.properties'/>

	<path id="wikitext.classpath">
		<fileset dir="${wikitext.standalone}">
			<include name="org.eclipse.mylyn.wikitext.*core*.jar"/>
		</fileset>
	</path>

	<taskdef classpathref="wikitext.classpath" resource="org/eclipse/mylyn/wikitext/core/util/anttask/tasks.properties" />
		
	<target name="generate-docs" description="Generate Documentation from confluence source">
		<wikitext-to-html markupLanguage="Confluence" 
			multipleOutputFiles="false"
			navigationImages="false"
			xhtmlStrict='true'
			overwrite='true'
			>
			<fileset dir="${basedir}">
				<include name="files/*.confluence"/>
			</fileset>
			<stylesheet url="css/main.css"/>
		</wikitext-to-html>
	</target>
	<target name='clean' description='Delete the html files'>
		<delete>
			<fileset dir='${basedir}/files' includes='*.html'/>
		</delete>
	</target>
</project>
